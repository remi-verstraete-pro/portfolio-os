import{$ as P,A as on,Aa as le,B as yt,Ba as _n,C as sn,Ca as Dn,D as Ce,Da as Q,E as an,Ea as ie,F as vt,Fa as yn,G as Ct,Ga as Mt,H as Le,Ha as vn,I as a,Ia as Cn,J as ue,Ja as wn,K as wt,Ka as St,L as Be,M as we,N as p,Na as ce,O as un,Oa as Z,P as bt,Q as ln,Qa as B,R as v,Ra as K,S as he,T as x,U as ee,V as pe,W as cn,X as C,Y as ge,Z as Et,_ as je,a as y,aa as R,b as F,ba as H,ca as G,d as Xt,da as W,e as Qt,ea as b,f as Jt,fa as u,g as en,ga as l,h as N,ha as te,i as ve,ia as E,j as V,ja as D,k as fe,ka as me,l as L,la as O,m as M,ma as ne,n as z,na as f,o as tn,oa as Y,p as nn,pa as d,q as m,qa as dn,r as _,ra as fn,s as mt,sa as hn,t as j,ta as q,u as _t,ua as c,v as T,va as S,w as rn,wa as U,x as Ne,xa as pn,y as Dt,ya as gn,z as X,za as mn}from"./chunk-SFNXEH7S.js";var bn=null;function re(){return bn}function At(i){bn??=i}var be=class{};var ze=class{$implicit;ngForOf;index;count;constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$e=(()=>{class i{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new ze(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(o===null?void 0:o);else if(o!==null){let h=n.get(o);n.move(h,s),En(h,r)}});for(let r=0,o=n.length;r<o;r++){let h=n.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=n.get(r.currentIndex);En(o,r)})}static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||i)(p(bt),p(wt),p(vn))};static \u0275dir=x({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return i})();function En(i,t){i.context.$implicit=t.item}var Ee=(()=>{class i{_viewContainer;_context=new Ue;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Mn(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Mn(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||i)(p(bt),p(wt))};static \u0275dir=x({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return i})(),Ue=class{$implicit=null;ngIf=null};function Mn(i,t){if(i&&!i.createEmbeddedView)throw new N(2020,!1)}var Ft=(()=>{class i{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){let[r,o]=e.split("."),s=r.indexOf("-")===-1?void 0:ue.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${n}${o}`:n,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static \u0275fac=function(n){return new(n||i)(p(X),p(Cn),p(we))};static \u0275dir=x({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return i})();var w=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=he({type:i});static \u0275inj=fe({})}return i})();function It(i,t){t=encodeURIComponent(t);for(let e of i.split(";")){let n=e.indexOf("="),[r,o]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Me=class{};var Sn="browser";var We=new L(""),Pt=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,o){return this._findPluginFor(n).addEventListener(e,n,r,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new N(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(M(We),M(ge))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),Se=class{_doc;constructor(t){this._doc=t}manager},xt="ng-app-id";function An(i){for(let t of i)t.remove()}function Fn(i,t){let e=t.createElement("style");return e.textContent=i,e}function ui(i,t,e,n){let r=i.head?.querySelectorAll(`style[${xt}="${t}"],link[${xt}="${t}"]`);if(r)for(let o of r)o.removeAttribute(xt),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function kt(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var Rt=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,ui(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,Fn);n?.forEach(r=>this.addUsage(r,this.external,kt))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(An(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])An(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,Fn(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,kt(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(M(j),M(yt),M(vt,8),M(Ce))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),Ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vt=/%COMP%/g;var xn="%COMP%",li=`_nghost-${xn}`,ci=`_ngcontent-${xn}`,di=!0,fi=new L("",{providedIn:"root",factory:()=>di});function hi(i){return ci.replace(Vt,i)}function pi(i){return li.replace(Vt,i)}function On(i,t){return t.map(e=>e.replace(Vt,i))}var Ie=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,o,s,h,g,k=null,A=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=h,this.ngZone=g,this.nonce=k,this.tracingService=A,this.platformIsServer=!1,this.defaultRenderer=new Ae(e,s,g,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,n);return r instanceof Ge?r.applyToHost(e):r instanceof Fe&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,h=this.ngZone,g=this.eventManager,k=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,ae=this.platformIsServer,J=this.tracingService;switch(n.encapsulation){case Ct.Emulated:o=new Ge(g,k,n,this.appId,A,s,h,ae,J);break;case Ct.ShadowDom:return new Tt(g,k,e,n,s,h,this.nonce,ae,J);default:o=new Fe(g,k,n,A,s,h,ae,J);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(M(Pt),M(Rt),M(yt),M(fi),M(j),M(Ce),M(ge),M(vt),M(cn,8))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),Ae=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r,o){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Ot[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(In(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(In(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new N(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=Ot[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(ue.DashCase|ue.Important)?t.style.setProperty(e,n,r&ue.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ue.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=re().getGlobalEventTarget(this.doc,t),!t))throw new N(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function In(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Tt=class extends Ae{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,r,o,s,h,g,k){super(t,o,s,g,k),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let A=r.styles;A=On(r.id,A);for(let J of A){let de=document.createElement("style");h&&de.setAttribute("nonce",h),de.textContent=J,this.shadowRoot.appendChild(de)}let ae=r.getExternalStyles?.();if(ae)for(let J of ae){let de=kt(J,o);h&&de.setAttribute("nonce",h),this.shadowRoot.appendChild(de)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fe=class extends Ae{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,o,s,h,g,k){super(t,o,s,h,g),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let A=n.styles;this.styles=k?On(k,A):A,this.styleUrls=n.getExternalStyles?.(k)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ge=class extends Fe{contentAttr;hostAttr;constructor(t,e,n,r,o,s,h,g,k){let A=r+"-"+n.id;super(t,e,n,o,s,h,g,k,A),this.contentAttr=hi(A),this.hostAttr=pi(A)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var Ye=class i extends be{supportsDOMEvents=!0;static makeCurrent(){At(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=gi();return e==null?null:mi(e)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return It(document.cookie,t)}},xe=null;function gi(){return xe=xe||document.head.querySelector("base"),xe?xe.getAttribute("href"):null}function mi(i){return new URL(i,document.baseURI).pathname}var _i=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),Tn=(()=>{class i extends Se{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,o){return e.addEventListener(n,r,o),()=>this.removeEventListener(e,n,r,o)}removeEventListener(e,n,r,o){return e.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||i)(M(j))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),kn=["alt","control","meta","shift"],Di={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yi={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Pn=(()=>{class i extends Se{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,o){let s=i.parseEventName(n),h=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>re().onAndCancel(e,s.domEventName,h,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),s="",h=n.indexOf("code");if(h>-1&&(n.splice(h,1),s="code."),kn.forEach(k=>{let A=n.indexOf(k);A>-1&&(n.splice(A,1),s+=k+".")}),s+=o,n.length!=0||o.length===0)return null;let g={};return g.domEventName=r,g.fullKey=s,g}static matchEventFullKeyCode(e,n){let r=Di[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),kn.forEach(s=>{if(s!==r){let h=yi[s];h(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(M(j))};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})();function Nt(i,t){let e=y({rootComponent:i},vi(t));return wn(e)}function vi(i){return{appProviders:[...Mi,...i?.providers??[]],platformProviders:Ei}}function Ci(){Ye.makeCurrent()}function wi(){return new _t}function bi(){return on(document),document}var Ei=[{provide:Ce,useValue:Sn},{provide:sn,useValue:Ci,multi:!0},{provide:j,useFactory:bi}];var Mi=[{provide:nn,useValue:"root"},{provide:_t,useFactory:wi},{provide:We,useClass:Tn,multi:!0,deps:[j]},{provide:We,useClass:Pn,multi:!0,deps:[j]},Ie,Rt,Pt,{provide:Be,useExisting:Ie},{provide:Me,useClass:_i},[]];var $n=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(p(we),p(X))};static \u0275dir=x({type:i})}return i})(),Si=(()=>{class i extends $n{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(i)))(r||i)}})();static \u0275dir=x({type:i,features:[ee]})}return i})(),Hn=new L("");var Ai={provide:Hn,useExisting:ve(()=>tt),multi:!0};function Fi(){let i=re()?re().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Ii=new L(""),tt=(()=>{class i extends $n{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Fi())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(p(we),p(X),p(Ii,8))};static \u0275dir=x({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&f("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[le([Ai]),ee]})}return i})();function xi(i){return i==null||Oi(i)===0}function Oi(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var zt=new L(""),Gn=new L("");function ki(i){return xi(i.value)?{required:!0}:null}function Rn(i){return null}function Wn(i){return i!=null}function Yn(i){return Et(i)?Qt(i):i}function qn(i){let t={};return i.forEach(e=>{t=e!=null?y(y({},t),e):t}),Object.keys(t).length===0?null:t}function Zn(i,t){return t.map(e=>e(i))}function Ti(i){return!i.validate}function Kn(i){return i.map(t=>Ti(t)?t:e=>t.validate(e))}function Pi(i){if(!i)return null;let t=i.filter(Wn);return t.length==0?null:function(e){return qn(Zn(e,t))}}function Ut(i){return i!=null?Pi(Kn(i)):null}function Ri(i){if(!i)return null;let t=i.filter(Wn);return t.length==0?null:function(e){let n=Zn(e,t).map(Yn);return en(n).pipe(Jt(qn))}}function $t(i){return i!=null?Ri(Kn(i)):null}function Vn(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Vi(i){return i._rawValidators}function Ni(i){return i._rawAsyncValidators}function Lt(i){return i?Array.isArray(i)?i:[i]:[]}function Ze(i,t){return Array.isArray(i)?i.includes(t):i===t}function Nn(i,t){let e=Lt(t);return Lt(i).forEach(r=>{Ze(e,r)||e.push(r)}),e}function Ln(i,t){return Lt(t).filter(e=>!Ze(i,e))}var Ke=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ut(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},ye=class extends Ke{name;get formDirective(){return null}get path(){return null}},Ve=class extends Ke{_parent=null;name=null;valueAccessor=null},Xe=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Li={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ma=F(y({},Li),{"[class.ng-submitted]":"isSubmitted"}),Xn=(()=>{class i extends Xe{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(p(Ve,2))};static \u0275dir=x({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&q("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ee]})}return i})(),Qn=(()=>{class i extends Xe{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(p(ye,10))};static \u0275dir=x({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&q("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ee]})}return i})();var Oe="VALID",qe="INVALID",_e="PENDING",ke="DISABLED",oe=class{},Qe=class extends oe{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Pe=class extends oe{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Re=class extends oe{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},De=class extends oe{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Bt=class extends oe{source;constructor(t){super(),this.source=t}},jt=class extends oe{source;constructor(t){super(),this.source=t}};function Jn(i){return(nt(i)?i.validators:i)||null}function Bi(i){return Array.isArray(i)?Ut(i):i||null}function ei(i,t){return(nt(t)?t.asyncValidators:i)||null}function ji(i){return Array.isArray(i)?$t(i):i||null}function nt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function zi(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new N(1e3,"");if(!n[e])throw new N(1001,"")}function Ui(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new N(1002,"")})}var Je=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Q(this.statusReactive)}set status(t){Q(()=>this.statusReactive.set(t))}_status=ie(()=>this.statusReactive());statusReactive=T(void 0);get valid(){return this.status===Oe}get invalid(){return this.status===qe}get pending(){return this.status==_e}get disabled(){return this.status===ke}get enabled(){return this.status!==ke}errors;get pristine(){return Q(this.pristineReactive)}set pristine(t){Q(()=>this.pristineReactive.set(t))}_pristine=ie(()=>this.pristineReactive());pristineReactive=T(!0);get dirty(){return!this.pristine}get touched(){return Q(this.touchedReactive)}set touched(t){Q(()=>this.touchedReactive.set(t))}_touched=ie(()=>this.touchedReactive());touchedReactive=T(!1);get untouched(){return!this.touched}_events=new Xt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Nn(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Nn(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ln(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ln(t,this._rawAsyncValidators))}hasValidator(t){return Ze(this._rawValidators,t)}hasAsyncValidator(t){return Ze(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(F(y({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Re(!0,n))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Re(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(F(y({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Pe(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Pe(!0,n))}markAsPending(t={}){this.status=_e;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new De(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(F(y({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ke,this.errors=null,this._forEachChild(r=>{r.disable(F(y({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Qe(this.value,n)),this._events.next(new De(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(y({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Oe,this._forEachChild(n=>{n.enable(F(y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(F(y({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oe||this.status===_e)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Qe(this.value,e)),this._events.next(new De(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(F(y({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ke:Oe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=_e,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let n=Yn(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new De(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new C,this.statusChanges=new C}_calculateStatus(){return this._allControlsDisabled()?ke:this.errors?qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_e)?_e:this._anyControlsHaveStatus(qe)?qe:Oe}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Pe(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Re(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nt(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Bi(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ji(this._rawAsyncValidators)}},et=class extends Je{constructor(t,e,n){super(Jn(e),ei(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Ui(this,!0,t),Object.keys(t).forEach(n=>{zi(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ht=new L("",{providedIn:"root",factory:()=>Gt}),Gt="always";function $i(i,t){return[...t.path,i]}function ti(i,t,e=Gt){ni(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),Gi(i,t),Yi(i,t),Wi(i,t),Hi(i,t)}function Bn(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Hi(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function ni(i,t){let e=Vi(i);t.validator!==null?i.setValidators(Vn(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=Ni(i);t.asyncValidator!==null?i.setAsyncValidators(Vn(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();Bn(t._rawValidators,r),Bn(t._rawAsyncValidators,r)}function Gi(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ii(i,t)})}function Wi(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ii(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function ii(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Yi(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function qi(i,t){i==null,ni(i,t)}function Zi(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Ki(i){return Object.getPrototypeOf(i.constructor)===Si}function Xi(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Qi(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===tt?e=o:Ki(o)?n=o:r=o}),r||n||e||null}var Ji={provide:ye,useExisting:ve(()=>Wt)},Te=Promise.resolve(),Wt=(()=>{class i extends ye{callSetDisabledState;get submitted(){return Q(this.submittedReactive)}_submitted=ie(()=>this.submittedReactive());submittedReactive=T(!1);_directives=new Set;form;ngSubmit=new C;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new et({},Ut(e),$t(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Te.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),ti(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Te.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Te.then(()=>{let n=this._findContainer(e.path),r=new et({});qi(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Te.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Te.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Xi(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Bt(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new jt(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||i)(p(zt,10),p(Gn,10),p(Ht,8))};static \u0275dir=x({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&f("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[le([Ji]),ee]})}return i})();function jn(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function zn(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var er=class extends Je{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(Jn(e),ei(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nt(e)&&(e.nonNullable||e.initialValueIsDefault)&&(zn(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jn(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jn(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){zn(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var tr={provide:Ve,useExisting:ve(()=>Yt)},Un=Promise.resolve(),Yt=(()=>{class i extends Ve{_changeDetectorRef;callSetDisabledState;control=new er;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new C;constructor(e,n,r,o,s,h){super(),this._changeDetectorRef=s,this.callSetDisabledState=h,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Qi(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Zi(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ti(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Un.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&St(n);Un.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?$i(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(p(ye,9),p(zt,10),p(Gn,10),p(Hn,10),p(Mt,8),p(Ht,8))};static \u0275dir=x({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[le([tr]),ee,Ne]})}return i})();var ri=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=x({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})();var nr=(()=>{class i{_validator=Rn;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Rn,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=x({type:i,features:[Ne]})}return i})();var ir={provide:zt,useExisting:ve(()=>qt),multi:!0};var qt=(()=>{class i extends nr{required;inputName="required";normalizeInput=St;createValidator=e=>ki;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Dt(i)))(r||i)}})();static \u0275dir=x({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&je("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[le([ir]),ee]})}return i})();var rr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=he({type:i});static \u0275inj=fe({})}return i})();var oi=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Ht,useValue:e.callSetDisabledState??Gt}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=he({type:i});static \u0275inj=fe({imports:[rr]})}return i})();function sr(i,t){if(i&1){let e=O();u(0,"div",1)(1,"form",2),f("submit",function(r){m(e);let o=d();return _(o.onSubmit(r))}),u(2,"h2"),c(3,"Bienvenue"),l(),u(4,"input",3),mn("ngModelChange",function(r){m(e);let o=d();return gn(o.username,r)||(o.username=r),_(r)}),f("keydown.enter",function(){m(e);let r=d();return _(r.onSubmit())}),l(),u(5,"button",4),f("click",function(){m(e);let r=d();return _(r.onSubmit())}),c(6,"Se connecter"),l()()()}if(i&2){let e=d();b("@slideScreen",void 0),a(4),pn("ngModel",e.username)}}var it=class i{login=new C;username="";loggedIn=!1;onSubmit(t){t&&t.preventDefault();let e=this.username.trim();e&&(localStorage.setItem("username",e),this.loggedIn=!0,setTimeout(()=>this.login.emit(e),600))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-login-screen"]],outputs:{login:"login"},decls:1,vars:1,consts:[["class","login-screen",4,"ngIf"],[1,"login-screen"],[1,"login-box",3,"submit"],["type","text","name","username","placeholder","Entrez votre nom","required","","autofocus","",3,"ngModelChange","keydown.enter","ngModel"],["type","button",3,"click"]],template:function(e,n){e&1&&pe(0,sr,7,2,"div",0),e&2&&b("ngIf",!n.loggedIn)},dependencies:[w,Ee,oi,ri,tt,Xn,Qn,qt,Yt,Wt],styles:[".login-screen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--login-gradient);display:flex;justify-content:center;align-items:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .5s ease-out;transition:background .3s ease}.login-box[_ngcontent-%COMP%]{background:var(--surface);color:var(--text);padding:40px 30px;border-radius:16px;box-shadow:var(--shadow);text-align:center;animation:_ngcontent-%COMP%_slideIn .5s ease-out;width:300px;max-width:90%;transition:background .3s ease,color .3s ease}input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:20px;margin-bottom:20px;font-size:16px;border:1px solid var(--border);border-radius:6px;background:var(--input-bg);color:var(--text);transition:all .2s ease}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-light)}button[_ngcontent-%COMP%]{background:var(--accent);color:#fff;border:none;padding:10px 24px;font-size:16px;cursor:pointer;border-radius:6px;transition:background .3s ease}button[_ngcontent-%COMP%]:hover{background:var(--accent-hover)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}"],data:{animation:[ce("slideScreen",[K(":leave",[Z("600ms ease-in",B({transform:"translateY(-100%)",opacity:0}))]),K(":enter",[B({transform:"translateY(100%)",opacity:0}),Z("600ms ease-out",B({transform:"translateY(0)",opacity:1}))])])]}})};var si="language",se=class i{_language=T(ar());language=ie(()=>this._language());isFR=ie(()=>this._language()==="fr");constructor(){yn(()=>{let t=this._language();try{localStorage.setItem(si,t)}catch{}document?.documentElement?.setAttribute("lang",t)})}setLanguage(t){this._language.set(t)}toggleLanguage(){this._language.update(t=>t==="fr"?"en":"fr")}static \u0275fac=function(e){return new(e||i)};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};function ar(){try{let t=localStorage.getItem(si);if(t==="fr"||t==="en")return t}catch{}return(typeof navigator<"u"&&navigator.language||"").toLowerCase().startsWith("fr")?"fr":"en"}function ur(i,t){i&1&&c(0," \u{1F31C} Th\xE8me sombre ")}function lr(i,t){i&1&&c(0," \u{1F31E} Th\xE8me clair ")}var rt=class i{savedLanguage=localStorage.getItem("language");isDarkTheme=localStorage.getItem("theme")==="dark";isFRlanguage=this.savedLanguage==="fr";language=this.savedLanguage??"fr";theme=this.isDarkTheme?"dark":"light";languageService=z(se);ngOnInit(){}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.theme=this.isDarkTheme?"dark":"light",document.documentElement.setAttribute("data-theme",this.theme),localStorage.setItem("theme",this.theme)}toggleLanguage(){this.isFRlanguage?(this.isFRlanguage=!1,localStorage.setItem("language","en"),this.language="en",this.languageService.setLanguage("en")):(this.isFRlanguage=!0,localStorage.setItem("language","fr"),this.language="fr",this.languageService.setLanguage("fr"))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-quick-settings"]],decls:14,vars:4,consts:[[1,"quick-settings","fade-in-up"],[1,"setting-item"],["for","theme-toggle"],[1,"switch"],["type","checkbox","id","theme-toggle",3,"change","checked"],[1,"slider"],["for","language-toggle"],["type","checkbox","id","language-toggle",3,"change","checked"]],template:function(e,n){e&1&&(E(0,"div",0)(1,"div",1)(2,"label",2),P(3,ur,1,0)(4,lr,1,0),D(),E(5,"label",3)(6,"input",4),Y("change",function(){return n.toggleTheme()}),D(),me(7,"span",5),D()(),E(8,"div",1)(9,"label",6),c(10),D(),E(11,"label",3)(12,"input",7),Y("change",function(){return n.toggleLanguage()}),D(),me(13,"span",5),D()()()),e&2&&(a(3),R(n.isDarkTheme?3:4),a(3),ne("checked",n.isDarkTheme),a(4),U("\u{1F310} ",n.isFRlanguage?"Fran\xE7ais":"English"),a(2),ne("checked",n.isFRlanguage))},dependencies:[w],styles:['@charset "UTF-8";.quick-settings[_ngcontent-%COMP%]{position:absolute;top:45px;right:10px;background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:16px 20px;z-index:1000;width:240px;font-family:Manrope,sans-serif;transition:background .3s ease,color .3s ease,box-shadow .3s ease}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:14px;padding:10px 0;border-bottom:1px solid var(--border)}.setting-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--border);border-radius:34px;transition:background-color .25s ease}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;top:3px;background-color:var(--surface);border-radius:50%;box-shadow:0 2px 6px #0003;transition:transform .25s ease}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--accent)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.btn-connect[_ngcontent-%COMP%]{background:none;border:none;color:var(--accent);font-size:13px;cursor:pointer;padding:4px 6px;border-radius:6px;transition:background-color .2s ease}.btn-connect[_ngcontent-%COMP%]:hover{background-color:#0000000d}.btn-connect[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:none}']})};var ot=class i{volume=Number(localStorage.getItem("volume")??50);volumeLevel="\u{1F509}";constructor(){this.setIconVolume(this.volume)}updateVolume(t){let e=t.target;this.volume=+e.value,localStorage.setItem("volume",this.volume.toString()),this.setIconVolume(this.volume)}setIconVolume(t){t<33?this.volumeLevel="\u{1F508}":t<66?this.volumeLevel="\u{1F509}":this.volumeLevel="\u{1F50A}"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-volume-control"]],decls:7,vars:3,consts:[[1,"quick-settings"],[1,"setting-item"],["for","volume",1,"volume-level"],["id","volume","type","range","min","0","max","100",3,"input","value"]],template:function(e,n){e&1&&(E(0,"div",0)(1,"div",1)(2,"label",2),c(3),D(),E(4,"input",3),Y("input",function(o){return n.updateVolume(o)}),D(),E(5,"span"),c(6),D()()()),e&2&&(a(3),S(n.volumeLevel),a(),ne("value",n.volume),a(2),U("",n.volume,"%"))},styles:['.quick-settings[_ngcontent-%COMP%]{position:absolute;top:45px;right:10px;background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:16px 20px;z-index:1000;width:240px;font-family:Manrope,sans-serif;transition:background .3s ease,color .3s ease,box-shadow .3s ease}.volume-level[_ngcontent-%COMP%]{font-size:x-large}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:14px;padding:10px 0;border-bottom:1px solid var(--border)}.setting-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--border);border-radius:34px;transition:background-color .25s ease}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;top:3px;background-color:var(--surface);border-radius:50%;box-shadow:0 2px 6px #0003;transition:transform .25s ease}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--accent)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}'],data:{animation:[ce("fadeSlide",[K(":enter",[B({opacity:0,transform:"translateY(-5px)"}),Z("200ms ease-out",B({opacity:1,transform:"translateY(0)"}))]),K(":leave",[Z("150ms ease-in",B({opacity:0,transform:"translateY(-5px)"}))])])]}})};var st=class i{constructor(t){this.elementRef=t}clickOutside=new C;onClick(t){if(!t)return;this.elementRef.nativeElement.contains(t)||this.clickOutside.emit()}static \u0275fac=function(e){return new(e||i)(p(X))};static \u0275dir=x({type:i,selectors:[["","clickOutside",""]],hostBindings:function(e,n){e&1&&f("click",function(o){return n.onClick(o.target)},Le)},outputs:{clickOutside:"clickOutside"}})};function cr(i,t){i&1&&(E(0,"span",10),me(1,"span")(2,"span")(3,"span"),D())}function dr(i,t){if(i&1&&c(0),i&2){let e=d().$implicit,n=d(2);U(" ",n.connectedNetwork===e?"\u2705":"\u2B1B"," ")}}function fr(i,t){if(i&1){let e=O();E(0,"div",1)(1,"div",8)(2,"span",3),c(3,"\u{1F4F6}"),D(),E(4,"label"),c(5),D()(),E(6,"button",9),Y("click",function(){let r=m(e).$implicit,o=d(2);return _(o.connect(r))}),P(7,cr,4,0,"span",10)(8,dr,1,1),D()()}if(i&2){let e=t.$implicit,n=d(2);a(5),S(e),a(),ne("disabled",!n.wifiEnabled||!!n.loadingNetwork&&n.loadingNetwork!==e),je("aria-pressed",n.connectedNetwork===e),a(),R(n.loadingNetwork===e?7:8)}}function hr(i,t){if(i&1&&G(0,fr,9,4,"div",1,H),i&2){let e=d();W(e.networks)}}var at=class i{wifiEnabled=localStorage.getItem("wifiEnabled")==="true";connectedNetwork=localStorage.getItem("connectedNetwork");loadingNetwork=null;networks=["Home-Wifi","Cafe_FreeWifi","FBI_Truck","Guest"];toggleWifi(){if(this.wifiEnabled=!this.wifiEnabled,localStorage.setItem("wifiEnabled",String(this.wifiEnabled)),!this.wifiEnabled){this.connectedNetwork=null,this.loadingNetwork=null;try{localStorage.removeItem("connectedNetwork")}catch{}}}connect(t){!this.wifiEnabled||this.loadingNetwork||(this.loadingNetwork=t,setTimeout(()=>{this.connectedNetwork=t,this.loadingNetwork=null;try{localStorage.setItem("connectedNetwork",t)}catch{}},1500))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-wifi-settings"]],decls:11,vars:3,consts:[[1,"quick-settings"],[1,"setting-item"],["for","wifi-toggle"],[1,"wifi-icon"],[1,"wifi-label"],[1,"switch"],["type","checkbox","id","wifi-toggle",3,"change","checked"],[1,"slider"],[1,"wifi-network"],[1,"btn-connect",3,"click","disabled"],["aria-label","Connexion en cours",1,"dots","inline-dots"]],template:function(e,n){e&1&&(E(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),c(4,"\u{1F4E1}"),D(),E(5,"span",4),c(6,"Wi\u2011Fi"),D()(),E(7,"label",5)(8,"input",6),Y("change",function(){return n.toggleWifi()}),D(),me(9,"span",7),D()(),P(10,hr,2,0),D()),e&2&&(b("@fadeSlide",void 0),a(8),ne("checked",n.wifiEnabled),a(2),R(n.wifiEnabled?10:-1))},dependencies:[w],styles:['@charset "UTF-8";.quick-settings[_ngcontent-%COMP%]{position:absolute;top:45px;right:10px;background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:16px 20px;z-index:1000;width:240px;font-family:Manrope,sans-serif;transition:background .3s ease,color .3s ease,box-shadow .3s ease}.wifi-icon[_ngcontent-%COMP%]{font-size:large;margin-right:5px}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:14px;padding:10px 0;border-bottom:1px solid var(--border)}.setting-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:var(--border);border-radius:34px;transition:background-color .25s ease}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:3px;top:3px;background-color:var(--surface);border-radius:50%;box-shadow:0 2px 6px #0003;transition:transform .25s ease}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--accent)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.btn-connect[_ngcontent-%COMP%]{background:none;border:none;color:var(--accent);font-size:13px;cursor:pointer;padding:4px 6px;border-radius:6px;transition:background-color .2s ease;min-width:70px}.btn-connect[_ngcontent-%COMP%]:hover{background-color:#0000000d}.btn-connect[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:none}.inline-dots[_ngcontent-%COMP%]{display:inline-flex;gap:4px;vertical-align:middle}.inline-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;background:var(--accent);border-radius:50%;animation:_ngcontent-%COMP%_blink .9s infinite}.inline-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.inline-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}@keyframes _ngcontent-%COMP%_blink{0%,80%,to{opacity:.3}40%{opacity:1}}'],data:{animation:[ce("fadeSlide",[K(":enter",[B({opacity:0,transform:"translateY(-5px)"}),Z("200ms ease-out",B({opacity:1,transform:"translateY(0)"}))]),K(":leave",[Z("150ms ease-in",B({opacity:0,transform:"translateY(-5px)"}))])])]}})};function pr(i,t){i&1&&te(0,"app-quick-settings"),i&2&&b("@fadeSlide",void 0)}function gr(i,t){if(i&1){let e=O();u(0,"div",9),f("clickOutside",function(){m(e);let r=d();return _(r.closeVolumePopup())}),u(1,"app-volume-control",10),f("click",function(r){return m(e),_(r.stopPropagation())}),l()()}}function mr(i,t){if(i&1){let e=O();u(0,"div",11),f("clickOutside",function(){m(e);let r=d();return _(r.closeWifiPopup())}),u(1,"app-wifi-settings",10),f("click",function(r){return m(e),_(r.stopPropagation())}),l()()}i&2&&(a(),b("@fadeSlide",void 0))}var ut=class i{isMuted=!1;quickSettingsOpen=!1;volumeOpen=!1;wifiOpen=!1;username=null;settingsRequested=new C;toggleQuickSettings(){this.quickSettingsOpen=!this.quickSettingsOpen}toggleVolumePopup(t){t.stopPropagation(),this.volumeOpen=!this.volumeOpen}closeVolumePopup(){this.volumeOpen=!1}toggleWifiPopup(t){t.stopPropagation(),this.wifiOpen=!this.wifiOpen}closeWifiPopup(){this.wifiOpen=!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-top-bar"]],inputs:{username:"username"},outputs:{settingsRequested:"settingsRequested"},decls:16,vars:4,consts:[[1,"top-bar"],[1,"top-bar-left"],[1,"app-title"],[1,"top-bar-right"],[1,"icon-button",3,"click"],["aria-label","Wi-Fi",1,"icon-button",3,"click"],[1,"user-name"],[1,"volume-popup"],[1,"wifi-popup"],[1,"volume-popup",3,"clickOutside"],[3,"click"],[1,"wifi-popup",3,"clickOutside"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"span",2),c(3,"Portfolio OS"),l()(),u(4,"div",3)(5,"button",4),f("click",function(o){return n.toggleVolumePopup(o)}),c(6,"\u{1F50A}"),l(),u(7,"button",5),f("click",function(o){return n.toggleWifiPopup(o)}),c(8," \u{1F4F6} "),l(),u(9,"span",6),c(10),l(),u(11,"button",4),f("click",function(){return n.toggleQuickSettings()}),c(12,"\u2699\uFE0F"),l()()(),P(13,pr,1,1,"app-quick-settings"),P(14,gr,2,0,"div",7),P(15,mr,2,1,"div",8)),e&2&&(a(10),S(n.username),a(3),R(n.quickSettingsOpen?13:-1),a(),R(n.volumeOpen?14:-1),a(),R(n.wifiOpen?15:-1))},dependencies:[w,rt,ot,st,at],styles:[".top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:32px;padding:0 12px;background:var(--surface);color:var(--text);font-size:14px;font-family:Manrope,Segoe UI,sans-serif;border-bottom:1px solid var(--border);transition:background .3s ease,color .3s ease}.top-bar-left[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.3px}.top-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.icon[_ngcontent-%COMP%]{font-size:16px;display:inline-flex;align-items:center;justify-content:center}.icon-button[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text);cursor:pointer;font-size:14px;padding:4px 8px;border-radius:4px;transition:background .2s ease,color .2s ease}.icon-button[_ngcontent-%COMP%]:hover{background:var(--hover)}.user-name[_ngcontent-%COMP%]{font-style:italic;opacity:.85}"]})};var lt=class i{icon;label;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-desktop-icon"]],inputs:{icon:"icon",label:"label"},decls:5,vars:2,consts:[[1,"desktop-icon"],[1,"icon"],[1,"label"]],template:function(e,n){e&1&&(E(0,"div",0)(1,"div",1),c(2),D(),E(3,"div",2),c(4),D()()),e&2&&(a(2),S(n.icon),a(2),S(n.label))},dependencies:[w],styles:[".desktop-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;color:var(--text);cursor:pointer;text-align:center;-webkit-user-select:none;user-select:none;border-radius:10px;padding:6px;font-weight:500;line-height:1.2;transition:background-color .2s ease,color .2s ease;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background-color:transparent}.desktop-icon[_ngcontent-%COMP%]:hover{background-color:var(--icon-hover)}.desktop-icon[_ngcontent-%COMP%]:active{background-color:var(--icon-active)}.icon[_ngcontent-%COMP%]{font-size:xx-large}"]})};var _r=()=>["L","M","M","J","V","S","D"];function Dr(i,t){if(i&1&&(u(0,"div",5),c(1),l()),i&2){let e=t.$implicit;a(),S(e)}}function yr(i,t){if(i&1&&(u(0,"div",7),c(1),l()),i&2){let e=t.$implicit,n=d(2);q("today",e&&n.isToday(e)),a(),U(" ",(e==null?null:e.getDate())||""," ")}}function vr(i,t){if(i&1&&G(0,yr,2,3,"div",6,H),i&2){let e=t.$implicit;W(e)}}var ct=class i{current=new Date;displayedDate=new Date;get monthYear(){return this.displayedDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}get weeks(){let t=this.displayedDate.getFullYear(),e=this.displayedDate.getMonth(),n=new Date(t,e,1),r=new Date(t,e+1,0),o=[],s=n.getDay()||7;for(let g=1;g<s;g++)o.push(null);for(let g=1;g<=r.getDate();g++)o.push(new Date(t,e,g));for(;o.length%7!==0||o.length<42;)o.push(null);let h=[];for(let g=0;g<o.length;g+=7)h.push(o.slice(g,g+7));return h}isToday(t){return t.toDateString()===this.current.toDateString()}prevMonth(){this.displayedDate=new Date(this.displayedDate.getFullYear(),this.displayedDate.getMonth()-1,1)}nextMonth(){this.displayedDate=new Date(this.displayedDate.getFullYear(),this.displayedDate.getMonth()+1,1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-calendar"]],decls:12,vars:3,consts:[[1,"calendar-popup-animated"],[1,"calendar-header"],[3,"click"],[1,"calendar-grid"],["class","calendar-day",4,"ngFor","ngForOf"],[1,"calendar-day"],[1,"calendar-cell",3,"today"],[1,"calendar-cell"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return n.prevMonth()}),c(3,"\u2190"),l(),u(4,"span"),c(5),l(),u(6,"button",2),f("click",function(){return n.nextMonth()}),c(7,"\u2192"),l()(),u(8,"div",3),pe(9,Dr,2,1,"div",4),G(10,vr,2,0,null,null,H),l()()),e&2&&(a(5),S(n.monthYear),a(4),b("ngForOf",_n(2,_r)),a(),W(n.weeks))},dependencies:[w,$e],styles:[".calendar-popup-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .25s ease-out;background:var(--surface);padding:12px;border-radius:10px;color:var(--text);width:260px;box-shadow:var(--shadow);font-family:Manrope,Segoe UI,sans-serif;border:1px solid var(--border)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:600;margin-bottom:10px}.calendar-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-muted);font-size:18px;cursor:pointer;transition:opacity .2s ease}.calendar-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.6}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}.calendar-day[_ngcontent-%COMP%]{text-align:center;font-size:12px;color:var(--text-muted);font-weight:500}.calendar-cell[_ngcontent-%COMP%]{height:30px;text-align:center;line-height:30px;border-radius:4px;transition:background .2s ease;cursor:default}.calendar-cell.today[_ngcontent-%COMP%]{background:var(--accent);color:#fff;font-weight:700}.calendar-cell[_ngcontent-%COMP%]:hover{background:var(--accent-light);color:var(--text)}"]})};var dt=class i{logout=new C;onLogoutClick(){this.logout.emit(),localStorage.clear()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-start-menu"]],outputs:{logout:"logout"},decls:3,vars:0,consts:[[1,"start-menu","fade-in-up"],[1,"menu-item",3,"click"]],template:function(e,n){e&1&&(E(0,"div",0)(1,"div",1),Y("click",function(){return n.onLogoutClick()}),c(2,"\u{1F512} Se d\xE9connecter"),D()())},dependencies:[w],styles:[".start-menu[_ngcontent-%COMP%]{position:absolute;bottom:50px;left:10px;width:200px;padding:12px;background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:10px;box-shadow:var(--shadow);z-index:10000;font-family:Manrope,Segoe UI,sans-serif;transition:background .3s ease,color .3s ease,border .3s ease}.menu-item[_ngcontent-%COMP%]{padding:10px 12px;cursor:pointer;border-radius:6px;font-size:14px;font-weight:500;transition:background-color .2s ease,color .2s ease}.menu-item[_ngcontent-%COMP%]:hover{background:var(--hover)}"]})};var Cr=["calendarContainer"];function wr(i,t){if(i&1){let e=O();u(0,"app-start-menu",11),f("logout",function(){m(e);let r=d();return _(r.handleLogout())}),l()}}function br(i,t){if(i&1){let e=O();u(0,"span",12),f("click",function(){let r=m(e).$implicit,o=d();return _(o.focusRequest.emit(r))}),u(1,"span",13),c(2),l(),u(3,"span",14),c(4),l()()}if(i&2){let e=t.$implicit,n=d();q("active",e.icon===n.focused),a(2),S(e.icon),a(2),S(n.languageService.language()==="fr"?e.label_fr:e.label_en)}}function Er(i,t){if(i&1&&(u(0,"div",15,0),te(2,"app-calendar"),l()),i&2){let e=d();q("fade-out",!e.showCalendar)("fade-in",e.showCalendar)}}var ft=class i{windows=[];focused=null;focusRequest=new C;logoutRequested=new C;calendarRef;time=T(this.format(new Date));interval=setInterval(()=>this.time.set(this.format(new Date)),1e3);showCalendar=!1;calendarVisible=!1;startMenuOpen=!1;languageService=z(se);onGlobalClick(t){if(!this.showCalendar)return;let e=this.calendarRef?.nativeElement.contains(t.target),n=t.target.closest(".clock-container");!e&&!n&&this.closeCalendar()}currentTime(){return this.time()}format(t){return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}toggleCalendar(){this.showCalendar?this.closeCalendar():(this.calendarVisible=!0,this.showCalendar=!0)}closeCalendar(){this.showCalendar=!1,setTimeout(()=>this.calendarVisible=!1,250)}currentDate(){return new Date().toLocaleDateString("fr-FR",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}toggleStartMenu(){this.startMenuOpen=!this.startMenuOpen}handleLogout(){this.logoutRequested.emit(),this.startMenuOpen=!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-taskbar"]],viewQuery:function(e,n){if(e&1&&dn(Cr,5),e&2){let r;fn(r=hn())&&(n.calendarRef=r.first)}},hostBindings:function(e,n){e&1&&f("click",function(o){return n.onGlobalClick(o)},Le)},inputs:{windows:"windows",focused:"focused"},outputs:{focusRequest:"focusRequest",logoutRequested:"logoutRequested"},decls:15,vars:4,consts:[["calendarContainer",""],[1,"taskbar"],[1,"taskbar-left"],[1,"start-button",3,"click"],[1,"taskbar-apps"],[1,"taskbar-app",3,"active"],[1,"taskbar-right"],[1,"clock-container",3,"click"],[1,"clock-hour"],[1,"clock-date"],["class","calendar-popup",3,"fade-out","fade-in",4,"ngIf"],[3,"logout"],[1,"taskbar-app",3,"click"],[1,"icon"],[1,"label"],[1,"calendar-popup"]],template:function(e,n){e&1&&(u(0,"div",1)(1,"div",2)(2,"div",3),f("click",function(){return n.toggleStartMenu()}),c(3,"\u{1F7E6}"),l(),P(4,wr,1,0,"app-start-menu"),u(5,"div",4),G(6,br,5,4,"span",5,H),l()(),u(8,"div",6)(9,"div",7),f("click",function(){return n.toggleCalendar()}),u(10,"div",8),c(11),l(),u(12,"div",9),c(13),l()(),pe(14,Er,3,4,"div",10),l()()),e&2&&(a(4),R(n.startMenuOpen?4:-1),a(2),W(n.windows),a(5),S(n.currentTime()),a(2),S(n.currentDate()),a(),b("ngIf",n.calendarVisible))},dependencies:[w,Ee,ct,dt],styles:[".taskbar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;height:48px;width:100%;display:flex;justify-content:space-between;align-items:center;background:var(--taskbar-bg);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);font-family:Manrope,Segoe UI,sans-serif;padding:0 12px;z-index:1000;border-top:1px solid var(--border);transition:background .3s ease,color .3s ease}.taskbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.start-button[_ngcontent-%COMP%]{font-size:22px;padding:4px 10px;border-radius:6px;background:var(--button-bg);cursor:pointer;transition:background .2s ease;color:var(--text)}.start-button[_ngcontent-%COMP%]:hover{background:var(--button-hover)}.taskbar-apps[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-left:8px}.taskbar-app[_ngcontent-%COMP%]{width:120px;height:36px;display:flex;align-items:center;justify-content:flex-start;gap:8px;background:var(--app-bg);padding:6px 10px;border-radius:8px;font-size:14px;color:var(--text);cursor:pointer;transition:background .2s ease,transform .1s ease;box-shadow:inset 0 0 0 0 transparent;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.taskbar-app[_ngcontent-%COMP%]:hover{background:var(--app-hover);transform:translateY(-1px)}.taskbar-app.active[_ngcontent-%COMP%]{background:var(--app-active);box-shadow:inset 0 -2px 0 0 var(--accent)}.icon[_ngcontent-%COMP%]{font-size:18px}.label[_ngcontent-%COMP%]{font-weight:500}.taskbar-right[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-direction:column;padding-right:10px;font-size:13px;position:relative;cursor:pointer}.clock-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;line-height:1.1;font-family:monospace;text-align:right}.clock-hour[_ngcontent-%COMP%]{font-size:13px}.clock-date[_ngcontent-%COMP%]{font-size:11px;opacity:.8}.calendar-popup[_ngcontent-%COMP%]{position:absolute;bottom:48px;right:0;width:280px;background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:6px;box-shadow:var(--shadow);z-index:2000;padding:12px;transition:opacity .25s ease,transform .25s ease;opacity:1;transform:translateY(0)}.calendar-popup.fade-in[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.calendar-popup.fade-out[_ngcontent-%COMP%]{opacity:0;transform:translateY(10px);pointer-events:none}"]})};var Mr=(i,t,e,n,r)=>({top:i,left:t,width:e,height:n,"z-index":r}),ht=class i{constructor(t){this.el=t}id;title;position;size;isMinimized=!1;zIndex=1001;closed=new C;positionChanged=new C;sizeChanged=new C;focusWindow=new C;minimizeRequest=new C;dragging=!1;resizing=!1;dragOffset={x:0,y:0};resizeOrigin={x:0,y:0};initialSize={width:300,height:200};isMaximized=!0;ngAfterViewInit(){let t=this.el.nativeElement.querySelector(".window-header"),e=this.el.nativeElement.querySelector(".resizer");t.addEventListener("mousedown",this.onDragStart),e.addEventListener("mousedown",this.onResizeStart),this.el.nativeElement.addEventListener("mousedown",()=>{this.focusWindow.emit()})}minimize(){this.minimizeRequest.emit()}onDragStart=t=>{t.preventDefault(),this.dragging=!0,this.dragOffset={x:t.clientX-this.position.left,y:t.clientY-this.position.top},document.addEventListener("mousemove",this.onMouseMoveDrag),document.addEventListener("mouseup",this.onMouseUpDrag)};onMouseMoveDrag=t=>{if(!this.dragging)return;let e=t.clientX-this.dragOffset.x,n=t.clientY-this.dragOffset.y;this.positionChanged.emit({top:n,left:e})};onMouseUpDrag=()=>{this.dragging=!1,document.removeEventListener("mousemove",this.onMouseMoveDrag),document.removeEventListener("mouseup",this.onMouseUpDrag)};onResizeStart=t=>{t.preventDefault(),this.resizing=!0,this.resizeOrigin={x:t.clientX,y:t.clientY},this.initialSize=y({},this.size),document.addEventListener("mousemove",this.onMouseMoveResize),document.addEventListener("mouseup",this.onMouseUpResize)};onMouseMoveResize=t=>{if(!this.resizing)return;let e=t.clientX-this.resizeOrigin.x,n=t.clientY-this.resizeOrigin.y,r=Math.max(200,this.initialSize.width+e),o=Math.max(120,this.initialSize.height+n);this.sizeChanged.emit({width:r,height:o})};onMouseUpResize=()=>{this.resizing=!1,document.removeEventListener("mousemove",this.onMouseMoveResize),document.removeEventListener("mouseup",this.onMouseUpResize)};toggleMaximize(){this.isMaximized=!this.isMaximized}static \u0275fac=function(e){return new(e||i)(p(X))};static \u0275cmp=v({type:i,selectors:[["app-window"]],inputs:{id:"id",title:"title",position:"position",size:"size",isMinimized:"isMinimized",zIndex:"zIndex"},outputs:{closed:"closed",positionChanged:"positionChanged",sizeChanged:"sizeChanged",focusWindow:"focusWindow",minimizeRequest:"minimizeRequest"},decls:15,vars:14,consts:[[1,"window",3,"ngStyle"],[1,"window-header"],[1,"title"],[1,"window-controls"],["title","Minimiser",3,"click"],["title","Agrandir / Restaurer",3,"click"],["title","Fermer",3,"click"],[1,"window-body"],[1,"resizer"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"span",2),c(3),l(),u(4,"div",3)(5,"button",4),f("click",function(){return n.minimize()}),c(6,"\u{1F5D5}"),l(),u(7,"button",5),f("click",function(){return n.toggleMaximize()}),c(8),l(),u(9,"button",6),f("click",function(){return n.closed.emit()}),c(10,"\u2716"),l()()(),u(11,"div",7)(12,"p"),c(13),l()(),te(14,"div",8),l()),e&2&&(q("minimized",n.isMinimized)("maximized",n.isMaximized),b("ngStyle",Dn(8,Mr,n.isMaximized?"0px":n.position.top+"px",n.isMaximized?"0px":n.position.left+"px",n.isMaximized?"100%":n.size.width+"px",n.isMaximized?"calc(100vh - 48px)":n.size.height+"px",n.zIndex)),a(3),S(n.title),a(5),U(" ",n.isMaximized?"\u{1F5D7}":"\u{1F5D6}"," "),a(5),U("Contenu de ",n.title))},dependencies:[w,Ft],styles:[".resizer[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:16px;height:16px;background:transparent;cursor:nwse-resize;z-index:10}.window[_ngcontent-%COMP%]{position:absolute;background:var(--surface);border:1px solid var(--border);border-radius:8px;color:var(--text);box-shadow:var(--shadow);z-index:1001;overflow:hidden;animation:_ngcontent-%COMP%_fadeInWindow .25s ease-out;transition:opacity .25s ease,transform .25s ease}@keyframes _ngcontent-%COMP%_fadeInWindow{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.window-controls[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.window-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:var(--text);border:none;font-size:14px;cursor:pointer;padding:2px 6px;border-radius:4px;transition:background .2s ease}.window-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--hover)}.window.minimized[_ngcontent-%COMP%]{opacity:0;transform:scale(.9);pointer-events:none}.window.maximized[_ngcontent-%COMP%]{top:0!important;left:0!important;width:100vw!important;height:calc(100vh - 48px)!important;border-radius:0!important}"]})};var Zt=[{label_fr:"CV",label_en:"CV",icon:"\u{1F4C4}"},{label_fr:"Portfolio",label_en:"Portfolio",icon:"\u{1F4C1}"},{label_fr:"Savoirs-faire",label_en:"Hard-skills",icon:"\u{1F6E0}"},{label_fr:"Savoirs-e\u0302tre",label_en:"Soft-skills",icon:"\u{1F9E0}"},{label_fr:"Formation",label_en:"Education",icon:"\u{1F393}"},{label_fr:"Compe\u0301tences",label_en:"Skills",icon:"\u{1F468}\u200D\u{1F3EB}"},{label_fr:"Expe\u0301riences",label_en:"Experiences",icon:"\u{1F4DA}"},{label_fr:"Loisirs",label_en:"Hobbies",icon:"\u{1F389}"}];function Sr(i,t){if(i&1){let e=O();u(0,"app-desktop-icon",5),f("click",function(){m(e);let r=d().$implicit,o=d();return _(o.openWindow(r))}),l()}if(i&2){let e=d().$implicit;b("label",e.label_fr)("icon",e.icon)}}function Ar(i,t){if(i&1){let e=O();u(0,"app-desktop-icon",5),f("click",function(){m(e);let r=d().$implicit,o=d();return _(o.openWindow(r))}),l()}if(i&2){let e=d().$implicit;b("label",e.label_en)("icon",e.icon)}}function Fr(i,t){if(i&1&&P(0,Sr,1,2,"app-desktop-icon",4)(1,Ar,1,2,"app-desktop-icon",4),i&2){let e=d();R(e.languageService.language()==="fr"?0:1)}}function Ir(i,t){if(i&1){let e=O();u(0,"app-window",6),f("focusWindow",function(){let r=m(e).$implicit,o=d();return _(o.bringToFront(r))})("positionChanged",function(r){let o=m(e).$implicit,s=d();return _(s.setWindowPosition(o,r))})("sizeChanged",function(r){let o=m(e).$implicit,s=d();return _(s.setWindowSize(o,r))})("closed",function(){let r=m(e).$implicit,o=d();return _(o.closeWindow(r))})("minimizeRequest",function(){let r=m(e).$implicit,o=d();return _(o.minimizeWindow(r))}),l()}if(i&2){let e=t.$implicit,n=d();b("id",e.icon)("title",n.languageService.language()==="fr"?e.label_fr:e.label_en)("position",n.getWindowPosition(e))("size",n.getWindowSize(e))("zIndex",n.getZIndex(e))("isMinimized",n.windowMinimized()[e.icon])}}var pt=class i{zCounter=1001;openedWindows=T([]);windowPositions=T({});windowSizes=T({});zIndexMap=T({});focusedWindow=T(null);windowMinimized=T({});listApplis=Zt;languageService=z(se);username;logoutRequested=new C;minimizeWindow(t){this.windowMinimized.update(e=>F(y({},e),{[t.icon]:!0}))}openWindow(t){if(this.openedWindows().includes(t)){this.windowMinimized()[t.icon]&&this.windowMinimized.update(n=>F(y({},n),{[t.icon]:!1})),this.bringToFront(t);return}this.openedWindows.update(n=>[...n,t]),setTimeout(()=>this.bringToFront(t),0)}closeWindow(t){this.openedWindows.update(e=>e.filter(n=>n!==t))}setWindowPosition(t,e){this.windowPositions.update(n=>F(y({},n),{[t.icon]:e}))}getWindowPosition(t){return this.windowPositions()[t.icon]||{top:100,left:100}}setWindowSize(t,e){this.windowSizes.update(n=>F(y({},n),{[t.icon]:e}))}getWindowSize(t){return this.windowSizes()[t.icon]||{width:300,height:200}}getZIndex(t){return this.zIndexMap()[t.icon]||1001}bringToFront(t){this.zCounter++,this.focusedWindow.set(t.icon),this.zIndexMap.update(e=>F(y({},e),{[t.icon]:this.zCounter}))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-desktop"]],inputs:{username:"username"},outputs:{logoutRequested:"logoutRequested"},features:[le([{provide:"listApplis",useValue:Zt}])],decls:7,vars:3,consts:[[3,"username"],[1,"desktop-area"],[3,"id","title","position","size","zIndex","isMinimized"],[3,"focusRequest","logoutRequested","windows","focused"],[3,"label","icon"],[3,"click","label","icon"],[3,"focusWindow","positionChanged","sizeChanged","closed","minimizeRequest","id","title","position","size","zIndex","isMinimized"]],template:function(e,n){e&1&&(te(0,"app-top-bar",0),u(1,"div",1),G(2,Fr,2,1,null,null,H),l(),G(4,Ir,1,6,"app-window",2,H),u(6,"app-taskbar",3),f("focusRequest",function(o){return n.openWindow(o)})("logoutRequested",function(){return n.logoutRequested.emit()}),l()),e&2&&(b("username",n.username),a(2),W(n.listApplis),a(2),W(n.openedWindows()),a(2),b("windows",n.openedWindows())("focused",n.focusedWindow()))},dependencies:[w,ut,lt,ft,ht],styles:[".desktop-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;align-content:start;justify-content:start;padding:0 20px;height:calc(100vh - 100px);background:var(--desktop-gradient);background-size:cover;background-position:center;transition:background .3s ease}"]})};function xr(i,t){if(i&1){let e=O();u(0,"app-login-screen",1),f("login",function(r){m(e);let o=d();return _(o.handleLogin(r))}),l()}}function Or(i,t){if(i&1){let e=O();u(0,"app-desktop",2),f("logoutRequested",function(){m(e);let r=d();return _(r.handleLogout())}),l()}if(i&2){let e=d();b("username",e.user)}}var gt=class i{user=localStorage.getItem("username");ngOnInit(){document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")??"dark")}handleLogin(t){this.user=t}handleLogout(){this.user=null,localStorage.removeItem("username")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-root"]],decls:2,vars:1,consts:[[3,"username"],[3,"login"],[3,"logoutRequested","username"]],template:function(e,n){e&1&&P(0,xr,1,0,"app-login-screen")(1,Or,1,1,"app-desktop",0),e&2&&R(n.user?1:0)},dependencies:[it,pt,w],encapsulation:2})};var kr="@",Tr=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=z(mt);loadingSchedulerFn=z(Pr,{optional:!0});_engine;constructor(e,n,r,o,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-4TUPTIZE.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new N(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Kt(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let h=s.createRenderer(e,n);o.use(h),this.scheduler??=this.injector.get(rn,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){un()};static \u0275prov=V({token:i,factory:i.\u0275fac})}return i})(),Kt=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,n,r)),this.delegate.listen(t,e,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(kr)}},Pr=new L("");function ai(i="animations"){return ln("NgAsyncAnimations"),tn([{provide:Be,useFactory:(t,e,n)=>new Tr(t,e,n,i),deps:[j,Ie,ge]},{provide:an,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}Nt(gt,{providers:[ai()]});
